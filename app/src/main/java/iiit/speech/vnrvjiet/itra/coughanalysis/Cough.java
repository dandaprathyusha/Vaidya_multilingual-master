package iiit.speech.vnrvjiet.itra.coughanalysis;


import java.io.File;
import java.io.IOException;

import lib.sound.sampled.Clip;
import lib.sound.sampled.LineUnavailableException;
import lib.sound.sampled.UnsupportedAudioFileException;



public class Cough
{
  
private static String[] fileNames;

private static double[][] distance;

private static File ff;

private static double[][] distance1;

private static double calc;

private static String[] dryfileNames;

private static String[] wetfileNames;

private static double[][] wetdistance;

private static double[][] drydistance;

private static double wetcalc[];

private static double drycalc[];

private static testing t;

private static Clip clip;

private static double[][] drydistance1;

private static double[][] wetdistance2;

private static double drycalc1;

private static double[][] wetdistance1;

private static double wetcalc1;

private static int i;

private static int h;

private static int u;

private String hell = "";

private double[][] a;

private int k=0;

private int p=0;

public String VoiceTest (String path) throws UnsupportedAudioFileException, IOException, LineUnavailableException
  {
	
	System.out.println("testing instantiated");
	  
	  t= new testing();


 double[][][] drymeanvectors = new double[][][]{ {
	
		 {16.689115385511595,19.602561787934118,-7.696580207999,5.894745676425337,-7.217466648040121,4.7694849493469675,-1.1558966816621568,-0.9980749864756386,-4.102938900866386,0.5988179651235757,0.38031459782337856,0.9361513111247122,-6.279684603350308,0.747921892782652,-0.12390395656280569,0.33651359029708977,-0.01891021131192888,0.061741638535152125,0.0792559702724535,0.0698404502263675,-0.0524182518779821,-0.03487554874477799,-0.17013704188022488,-0.14676709481970238,-3.193613927178328,0.431528311038689,-0.06368487688779235,0.2228694732784146,0.05943934874617907,-0.022180402780132797,0.035016865966562914,-0.002659430905076409,-4.994474521224923E-4,0.07150643291818168,-0.09356493792813256,-0.1044183513376469,4.887876168542362,-0.08330986703053195,-0.15362811911756513},
		
		 {36.266016374379255,14.203272987027965,-0.8052997949365766,5.366195465083661,0.5736748198581078,-1.0354563121633906,-0.7109465007462162,-2.4131882987139663,-1.69111959389315,2.7801146047413585,-1.6611712367632328,-0.03612949686977601,-3.7326843870128403,0.717564034413843,0.06901363922212715,0.2650114900323701,0.1780112990305902,0.027520588443247306,-0.13464429606419226,-0.1958596947229773,0.020970179054574937,0.2799699382980226,0.013690204183398383,0.07891664163226876,-1.7540667114137467,0.24852306716917755,0.030703520373980935,0.13264243861915545,0.10457436130752219,0.03195464239612062,-0.13536502301591677,-0.02928967554352733,0.027833713227725685,0.14887730959201506,0.03472903641573547,0.09836521966728318,6.0477812701388665,0.007557907743346839,-0.077168574767356},
		
		 {11.037315337166776,12.381937037698453,-2.483175921823277,5.067024352698423,0.12630403429710618,1.5690795357748775,0.5419588721658756,-4.384869206257547,-3.5598357177675233,1.8273899854697637,-1.9513555242884684,0.8013030138973113,-8.194762263576498,1.7089334533726617,0.13519102083348766,0.8790176867232922,-0.009653311750668747,0.26831832358534685,-0.18696893772029974,-0.23108917736702922,-0.29806403604640846,0.027169632865218302,-0.2021146023723082,-0.020556706733219816,-4.965973207232388,0.8666928686732172,0.4377236037580146,0.6946813719967093,0.08811141898514781,-0.1316805557293961,-0.17994812726411663,-0.19367114985445183,-0.14326828981413203,0.003137322050865095,-0.20519100278978541,-0.025946505106617633,4.290503308120262,-0.08676974721688313,-0.26652172443307376}

 }};
      
      double[][][] wetmeanvectors = new double[][][]{{
    		
    		  {86.54977364602799,9.259680430711878,3.1832230815230815,1.5129206756292366,0.82722825481401,-1.4101265550310433,-0.5720814793211624,-0.9943827344502619,-1.2123298060845111,0.8134437679079488,-0.04348943094893235,-0.3311147326483934,86.54977364602799,9.259680430711878,3.1832230815230815,1.5129206756292366,0.82722825481401,-1.4101265550310433,-0.5720814793211624,-0.9943827344502619,-1.2123298060845111,0.8134437679079488,-0.04348943094893235,-0.3311147326483934,58.15175416554909,7.496782963837759,3.1599701587721576,3.3183068337102393,0.7461801770956447,-1.4752617932161098,-0.18369033773750054,-1.084264409216381,-1.313317137091901,0.34792448131818726,-0.5423500739011514,-0.15957338791059753,8.755338778410827,5.90864340276481,5.90864340276481},
    		 
    		  {-116.68964054627013,-0.8883174990883123,12.20900646882866,-4.666242798953358,8.27522135214478,-3.3095963509351476,5.573191999423749,-1.665245638698781,2.6789003372381175,0.3120737903369368,1.2175709168340882,0.9911194833956751,-0.6918665122908602,0.016665405052077885,0.006682937925774203,0.0010840668727501049,0.0040242853820845964,-6.145386254435089E-4,0.004892191003087406,0.004297074805577234,0.008999282270926591,0.006852093595051599,-0.0050588284189843034,0.0051329856994530194,-0.3093391096791254,0.0101253355129527,0.004477114907097161,0.001283534603424077,0.001958871847475392,0.0029600355999849343,0.006465152878028049,0.005985076458011816,0.0017454704152295593,0.005728765429425708,-0.006054260016145944,0.0013466121276287,3.2225401038798944,-0.01583369749500995,-0.016746946848473308},
    		  
    		  {-122.28831058106597,-2.044972567410115,15.59422227512756,-5.128010192807646,10.178148781646003,-2.7227056191962813,6.221570325205126,-0.13219056180720018,2.3876746939137727,2.3555602701901615,0.41636363579066804,2.972207538620806,-0.031532474945790374,7.314658587238885E-4,3.218505059334291E-4,4.25889052171027E-5,2.4801827734808007E-4,3.993802291022421E-5,2.0202922530182212E-4,1.96650300645166E-4,2.3365929235835207E-4,2.414170031265488E-4,-2.436373360151409E-4,1.5423737790840723E-4,-0.015565096539127894,4.242602434794797E-4,8.732966438164816E-5,1.0069450326863738E-4,1.6748095553476307E-4,1.2579900145761637E-4,1.408779860379492E-4,1.779205871167931E-4,-6.988141455646873E-5,1.8424193864968023E-4,-1.0751728366494068E-4,-2.6732318769485272E-5,2.807131086502674,-7.219824186943922E-4,-8.812846372336898E-4},
    		  
    		  {-147.5683067942325,-0.868246498156293,12.137561039503957,-4.544693596850712,8.477266667484121,-3.0438167634001227,5.589785861012389,-1.206240654690391,2.459807976154861,0.8683769307301509,0.9359838733701741,1.4749305927107965,-0.4686639684316241,0.01319104190746421,0.008181473029117509,0.0033084403940383477,0.003787362706129491,0.0029300208106935125,-0.0014005399749996063,0.005765259678084151,0.004337256317650308,0.008097469412790373,-0.002990446543746975,0.006755466141087721,-0.2301170663029718,0.006457236502887141,0.0037156352604931363,0.0014716112345236967,0.0014456632404938057,1.8185208875225048E-4,-0.003519822799876104,7.038705605447009E-4,6.895805995787098E-4,0.002978310894548424,0.0025855879116424263,0.0022920379432664266,0.9185507601108561,-0.010832142089537032,-0.011638364710796085},
    		  
    		  {-145.7826925631483,-1.9618755772527687,14.981832695235592,-5.094855548216232,9.968750588041397,-2.7486619632562093,6.136324565780271,-0.15994641724657316,2.2652794804702756,2.3814042145681604,0.29131727395721857,3.050862357002107,-0.26188098333589405,0.006067387907168321,0.001590327219551653,0.00128264222695329,7.407749224009011E-4,9.251721012938448E-4,0.0023235048088187968,0.0010129804699463777,-3.0904561728441155E-4,0.0019369125515193578,-9.497483209287585E-4,0.0011815302222689308,-0.12039533187122228,0.0027285019546592795,1.7649292295519905E-4,2.9001285319365014E-4,-7.626371911072317E-4,-0.0011637105449042288,-0.0014503418666666683,-6.556077699328936E-4,0.003078578834116206,5.816908883462495E-4,8.640885466052445E-4,0.0019030073781296805,0.7669732956901626,-0.005546477102800754,-0.005230268278958425},
    		  
    		  {-186.01847533956152,-0.6246229291200933,12.973295333233255,-3.897584242767199,9.041402221275954,-1.758343486861852,5.374011662407755,0.6279023977015369,1.7242410404946311,2.908027479708267,0.05766842163931236,3.274473484802919,-0.31920992092282646,0.004536238938559323,0.009157189808793645,-4.574601981542433E-4,0.006883649609730558,-2.21470304971955E-4,0.0032067204471850604,0.001977614383169489,-2.3403506621018475E-4,0.003877829796865431,0.0013977997368507123,0.0027251440968483424,-0.1470042717471219,0.0031310502865742338,0.006442357635174822,0.0012135787557279248,0.004517073169833372,8.41571989362019E-4,0.0010939977713906427,0.0016206088062846959,-0.002393845836527619,0.00125722357844222,0.002099534595957877,2.2200743794973017E-4,-2.616312388395357,-0.005845950404700093,-0.009753871428785317},
    		  
    		  {-192.66250963572568,0.168131567717792,10.92252887040297,-3.3464266625219325,8.054735754891045,-1.5812030070853629,4.80277852560828,0.5615973198304077,1.4225836127123126,2.6956604987501205,-0.15198547713346708,3.0452485473643858,-0.27327197365967826,0.004838533317597972,0.0035870506806492566,-1.8839307401463952E-4,0.0030659832559810467,-7.29707367095335E-4,0.0031111220397906296,0.0011988165787016655,0.0034999103472784553,0.0032419278517956548,-0.002318979459991351,0.002107340219048161,-0.1339985838246614,0.0027181646296851976,9.769471686728256E-4,-9.498490632886188E-5,0.0013552506923253885,-4.663032395671643E-4,0.0011986887779184621,0.0017650526130113173,0.003933884695849615,0.0032532796523360367,-0.0034418354705478943,0.002694894347491148,-2.9541847893136874,-0.0057993874164494665,-0.008912991418938223},
    		  
    		  {-36.94039968599233,11.214210727787481,-2.3883843224769072,-2.8531901845484717,-4.188395086434523,-0.5532596377623257,1.5004355273412426,0.639725712999729,-0.12392919070605996,0.163162999652902,0.1480375168462237,0.2777774432971141,-1.1902301593826135,0.2435515465371122,-0.005798310706984342,-0.003954262254829177,-0.014964814992724425,-0.021192012151099227,0.050695264514011414,0.04163313941954643,-0.010990606048033959,0.005238419575087862,0.014928171154207324,-0.002967764241584764,-1.167007363282831,0.05407519100410468,0.022950583291027254,0.01079433888161927,0.008293106825378038,-0.029061873491017264,0.011334976440262027,0.032881862544197685,-0.0026812878796542775,-0.0025298895393933932,0.016621056787404588,-0.012413668812005786,1.2439266896075025,-0.042287560980853525,-0.04651586151003521},
    		 
    		  {-62.3195672902695,18.978847982256912,-7.322341420516772,0.7320413099064569,1.6905552466301794,2.7452471697209853,-0.20248683487505018,1.928667579363134,1.530204414732367,2.015476871443035,0.21625600969649728,-0.47598602169787124,-1.491118673760931,0.09993303183694328,-0.06501543568367463,0.0052683807945542865,0.01345059697247455,0.030430083343155903,-0.010150032548823141,0.01662131403981253,-0.008603152711571825,0.026753457069136267,-0.0037296480360045473,0.006851346294788236,-1.149786491082214,-0.03941660081461654,-0.0020907569675604554,-0.0023704239187137804,0.01665399259375711,-0.005394324440977009,-0.00774655895477007,0.006240066864594158,-0.030540699573977557,0.001515362430982048,-0.015068581294666431,0.0024589063405611074,3.324288117943558,-0.037364780582281376,4.2623782059430723E-4}
  
      }};
      File testdryfiles = new File(path);
      a = new double[1][39];
	          distance1 = t.testing1(testdryfiles);
	          for(k=0;k<distance1.length;k++)
	          {
	        	  for(i=0;i<a[0].length;i++)
	        	  {
	        		 a[0][i] = distance1[i][0]; 
	        	  }
	          }
	        
	          
	          drycalc = new double[drymeanvectors[0].length];
	          
	          wetcalc = new double[wetmeanvectors[0].length];
	          
	    		    	         
	    	          for(int j = 0 ;j<drymeanvectors[0].length;j++)
	    	          {
	    	          drycalc[j] = calculateDistance(drymeanvectors[0][j],a);
	    	          
	    	         
	    	          }
	    	          for(int j = 0 ;j<wetmeanvectors[0].length;j++)
	    	          {
	    	        
	    	          
	    	          wetcalc[j] = calculateDistance(wetmeanvectors[0][j],a);
	    	          }
	    	          
	    	         drycalc1 = Double.MAX_VALUE;
	    	          
	    	         wetcalc1 = Double.MAX_VALUE;    
	    	         
	    	                  for( i=0;i<drycalc.length;i++) 
	    	                  {
	    	         
	    	                      if( drycalc1 > drycalc[i]) 
	    	                      {
	    	         
	    	                          drycalc1 = drycalc[i];
	    	          
	    	                      }
	    	                  }

	    	                  for( i=0;i<wetcalc.length;i++) 
	    	                  {
	    	         
	    	                      if( wetcalc1 >wetcalc[i]) 
	    	                      {
	    	         
	    	                          wetcalc1 = wetcalc[i];
	    	          
	    	                      }
	    	                  }
	          
	    /*

	   drydistance= new double[][]{{
		   42.976210088156215,
		   -3.686696558625523,
		   -11.848602879358822,
		   -9.288777694624017,
		   -5.422879860953933,
		   -0.2062904083400065,
		   -2.908817062558665,
		   -0.28531535787190454,
		   -1.473804505853653,
		   4.253059889613682,
		   -1.9036501848005867,
		   -1.5638940018834122,
		   1.850318611552184,
		   0.20795406283459522,
		   -0.22539053006833468,
		   -0.31291209057171676,
		   -0.20690403968034426,
		   -0.1117963323626275,
		   -0.09487053802078241,
		   -0.006967512016026963,
		   -0.05094812816073097,
		   0.10619170623313524,
		   -0.07378380457330945,
		   -0.04399980251360864,
		   0.530896853856333,
		   0.12081025154641907,
		   0.0240983764971871,
		   -0.1521853709488209,
		   -0.14870978961860404,
		   -0.03902067744157447,
		   0.0018440003946287244,
		   -0.02092544009551962,
		   -0.03061972604756917,
		   0.04328197868685176,
		   -0.07817088555362445,
		   0.0036858227582316763,
		   6.294202295588409,
		   0.12625994731809684,
		   0.12040975500829218}
	   };

	   wetdistance= new double[][]{{-132.26437933376923,
		   24.22608291096083,
		   20.575407509137623,
		   -1.3000936050837206,
		   1.1011270500516683,
		   -8.166563745794374,
		   3.1659728905748983,
		   -1.301649708762091,
		   5.919033891933224,
		   -1.4347123209029915,
		   1.3326799491938766,
		   -3.624097483848233,
		   -0.15652326497318447,
		   0.02369351042473887,
		   0.003704687494589813,
		   -0.0076490164054665065,
		   -0.006092203193540873,
		   -0.007098163489541958,
		   -0.003233857714133609,
		   0.0010333790099267069,
		   7.506114807560981E-4,
		   0.0030979110916005154,
		   -0.0017284151020133293,
		   -0.0012764120170559343,
		   -0.08610367466963134,
		   0.012169422887235057,
		   0.0054379207543411865,
		   -0.00463091426104499,
		   -0.004936838679787092,
		   -0.0022784965770162972,
		   4.742393272998638E-4,
		   -2.3831509504240785E-6,
		   1.478487277772007E-4,
		   7.526183792905516E-4,
		   -0.0032116964234316513,
		   -1.7424640161648277E-4,
		   -1.2285840773289864,
		   -4.297868356867787E-4,
		   -0.00216658958611503}};
	
		
	 
		
	   System.out.println("Path Set");
		
		
	  	 
	  
	  distance1=t.testing1(testdryfile);
	  
	  for(int i=0;i<distance1.length;i++) 
	    {   for(int j = 0;j<distance1[i].length;j++ )
	         {
	    	   a[k][p] = distance1[i][j];
	    	   p++;
	         }
	       
	    	
	    }
	  
	  System.out.println("length distance1 "+a.length);
	  
	  System.out.println("length drydistance "+drydistance.length);
	  
	  System.out.println("length wetdistance "+wetdistance.length);
	  
	  
	  drycalc = calculateDistance(drydistance,a);
	  
	  wetcalc = calculateDistance(wetdistance,a);
      
  */
	  
	  if(drycalc1 < wetcalc1)
	  {
		  hell = "dry cough";
	
		
	  }
	  else
	  {
		  hell = "wet cough";
	
	  }
	  return hell; 
	  

}	 
 


public static double calculateDistance(double[] drymeanvectors, double[][] array2)
{
    double Sum = 0.0;
    
    for(int i=0;i<array2.length;i++) 
    {   for(int j = 0;j<array2.length;j++ )
         {
    	   Sum = Sum + Math.pow((drymeanvectors[j]-array2[i][j]),2.0);
         }
       
    	
    }
    return Math.sqrt(Sum);
}

		
}